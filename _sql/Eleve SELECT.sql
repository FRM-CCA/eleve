-- SELECT *
SELECT * FROM eleve where codepostal between 70000 and 80000;
/*
1	CAPOLUNGO	Christophe	1972-01-19						0	frm.cca@outlook.com																	2017-10-22 19:12:09	2017-10-22 19:12:09
3	NOM		PRENOM	1972-01-19	BTS SIO 1	A	BAC		1	monemail@email.fr	0102030405		add1		75015	PARIS	2017-10-22 19:12:09	2017-10-22 19:12:09
4	NOM1	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail1@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:12:09	2017-10-22 19:12:09
5	NOM2	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail2@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:12:10	2017-10-22 19:12:10
6	NOM3	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail3@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:12:10	2017-10-22 19:12:10
7	NOM4	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail4@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:12:10	2017-10-22 19:12:10
8	NOM5	PRENOM	1972-01-19	BTS SIO 1	A	BAC3	1	monemail5@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:12:10	2017-10-22 19:12:10													
*/

-- SELECT DISTINCT
SELECT DISTINCT diplome as 'classe distinct' FROM eleve where diplome IS NOT NULL;
/*
BAC
BAC1
BAC2
BAC3
*/

-- SELECT WHERE
SELECT * FROM eleve where NOM='capolungo' AND PRENOM='christophe'; -- MySQL n'est pas/plus Case Sensitive, 
/*
1	CAPOLUNGO	Christophe	1972-01-19				0	frm.cca@outlook.com						2017-10-22 19:12:09	2017-10-22 19:12:09
*/
-- Sur Oracle, ou Db Case Sensitive, faire ceci
SELECT * FROM eleve where UPPER(NOM)=UPPER('capolungo') AND UPPER(PRENOM)=UPPER('christophe'); 
/*
1	CAPOLUNGO	Christophe	1972-01-19				0	frm.cca@outlook.com						2017-10-22 19:12:09	2017-10-22 19:12:09
*/														
SELECT * FROM eleve where NOM='CAPOLUNGO' OR NOM='NOM1';
/*
1	CAPOLUNGO	Christophe	1972-01-19					0						frm.cca@outlook.com																	2017-10-22 19:12:09	2017-10-22 19:12:09
4	NOM1			PRENOM			1972-01-19	BTS SIO 1	A	BAC1	1	monemail1@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:12:09	2017-10-22 19:12:09													
*/
SELECT * FROM eleve where NOM='NOM1' OR NOM='CAPOLUNGO'; -- CEST PAREIL 
/*
1	CAPOLUNGO	Christophe	1972-01-19					0						frm.cca@outlook.com																	2017-10-22 19:12:09	2017-10-22 19:12:09
4	NOM1			PRENOM			1972-01-19	BTS SIO 1	A	BAC1	1	monemail1@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:12:09	2017-10-22 19:12:09													
*/
SELECT * FROM eleve where email like '%email_@%'; -- % tout les caracteres _ un seul caractere
/*
A	BAC1	1	monemail1@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:12:09	2017-10-22 19:12:09
A	BAC1	1	monemail2@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:12:10	2017-10-22 19:12:10
A	BAC2	1	monemail3@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:12:10	2017-10-22 19:12:10
A	BAC2	1	monemail4@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:12:10	2017-10-22 19:12:10
A	BAC3	1	monemail5@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:12:10	2017-10-22 19:12:10
*/
SELECT * FROM eleve where codepostal between 70000 and 80000;
/*
3	NOM		PRENOM	1972-01-19	BTS SIO 1	A	BAC		1	monemail@email.fr		0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
4	NOM1	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail1@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
5	NOM2	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail2@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
6	NOM3	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail3@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
7	NOM4	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail4@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:25	2017-10-22 19:37:25													:37:25													
*/
SELECT * FROM eleve where codepostal in (75000, 75015, 75017);
/*
3	NOM		PRENOM	1972-01-19	BTS SIO 1	A	BAC		1	monemail@email.fr		0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
4	NOM1	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail1@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
5	NOM2	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail2@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
6	NOM3	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail3@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
7	NOM4	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail4@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:25	2017-10-22 19:37:25													
*/
-- SELECT LIMIT
SELECT * FROM eleve LIMIT 3; -- prend les 3 1ere ligne
/*
1	CAPOLUNGO	Christophe	1972-01-19					0						frm.cca@outlook.com																	2017-10-22 19:12:09	2017-10-22 19:12:09
3	NOM				PRENOM			1972-01-19	BTS SIO 1	A	BAC		1	monemail@email.fr		0102030405	add1		75015	PARIS	2017-10-22 19:12:09	2017-10-22 19:12:09
4	NOM1			PRENOM			1972-01-19	BTS SIO 1	A	BAC1	1	monemail1@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:12:09	2017-10-22 19:12:09														
*/
SELECT * FROM eleve LIMIT 1,3; -- debut ligne 2 et prend 3 ligne
/*
3	NOM		PRENOM	1972-01-19	BTS SIO 1	A	BAC		1	monemail@email.fr		0102030405	add1		75015	PARIS	2017-10-22 19:12:09	2017-10-22 19:12:09
4	NOM1	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail1@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:12:09	2017-10-22 19:12:09
5	NOM2	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail2@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:12:10	2017-10-22 19:12:10
*/

-- SELECT ORDER
SELECT * FROM eleve order by Nom DESC; -- tri par nom descendant
/*
8	NOM5	PRENOM	1972-01-19	BTS SIO 1	A	BAC3	1	monemail5@email.fr	0102030405	add1		90000	PARIS	2017-10-22 19:37:25	2017-10-22 19:37:25
7	NOM4	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail4@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:25	2017-10-22 19:37:25
6	NOM3	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail3@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
5	NOM2	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail2@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
4	NOM1	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail1@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
3	NOM	PRENOM	1972-01-19	BTS SIO 1	A	BAC	1	monemail@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
1	CAPOLUNGO	Christophe	1972-01-19				0	frm.cca@outlook.com						2017-10-22 19:37:24	2017-10-22 19:37:24
*/
SELECT * FROM eleve order by codepostal DESC, nom; -- tri par codepostal descendant puis par nom ascendant
/*
8	NOM5	PRENOM	1972-01-19	BTS SIO 1	A	BAC3	1	monemail5@email.fr	0102030405	add1		90000	PARIS	2017-10-22 19:37:25	2017-10-22 19:37:25
3	NOM	PRENOM	1972-01-19	BTS SIO 1	A	BAC	1	monemail@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
4	NOM1	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail1@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
5	NOM2	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail2@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
6	NOM3	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail3@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
7	NOM4	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail4@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:25	2017-10-22 19:37:25
1	CAPOLUNGO	Christophe	1972-01-19				0	frm.cca@outlook.com						2017-10-22 19:37:24	2017-10-22 19:37:24
*/
SELECT * FROM eleve as e1 UNION SELECT * FROM eleve as e2; -- uniquement les éléments distincts
/*
1	CAPOLUNGO	Christophe	1972-01-19				0	frm.cca@outlook.com						2017-10-22 19:37:24	2017-10-22 19:37:24
3	NOM	PRENOM	1972-01-19	BTS SIO 1	A	BAC	1	monemail@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
4	NOM1	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail1@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
5	NOM2	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail2@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
6	NOM3	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail3@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
7	NOM4	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail4@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:25	2017-10-22 19:37:25
8	NOM5	PRENOM	1972-01-19	BTS SIO 1	A	BAC3	1	monemail5@email.fr	0102030405	add1		90000	PARIS	2017-10-22 19:37:25	2017-10-22 19:37:25
*/
SELECT * FROM eleve as e1 UNION 
	select -1,'ligne vide','c\'est fous',null,'le SQL',null,null,null,null,null,null,null,null,null,null,null UNION ALL 
SELECT * FROM eleve as e2; -- tous les éléments
/*
1	CAPOLUNGO	Christophe	1972-01-19						0	frm.cca@outlook.com																	2017-10-22 19:37:24	2017-10-22 19:37:24
3	NOM		PRENOM	1972-01-19	BTS SIO 1	A	BAC		1	monemail@email.fr		0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
4	NOM1	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail1@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
5	NOM2	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail2@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
6	NOM3	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail3@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
7	NOM4	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail4@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:25	2017-10-22 19:37:25
8	NOM5	PRENOM	1972-01-19	BTS SIO 1	A	BAC3	1	monemail5@email.fr	0102030405	add1		90000	PARIS	2017-10-22 19:37:25	2017-10-22 19:37:25
1	CAPOLUNGO	Christophe	1972-01-19						0	frm.cca@outlook.com																	2017-10-22 19:37:24	2017-10-22 19:37:24
3	NOM	PRENOM		1972-01-19	BTS SIO 1	A	BAC		1	monemail@email.fr		0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
4	NOM1	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail1@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
5	NOM2	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail2@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
6	NOM3	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail3@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:24	2017-10-22 19:37:24
7	NOM4	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail4@email.fr	0102030405	add1		75015	PARIS	2017-10-22 19:37:25	2017-10-22 19:37:25
8	NOM5	PRENOM	1972-01-19	BTS SIO 1	A	BAC3	1	monemail5@email.fr	0102030405	add1		90000	PARIS	2017-10-22 19:37:25	2017-10-22 19:37:25
*/
SELECT Nom, Prenom FROM eleve WHERE id IN (SELECT id from eleve where Prenom='PRENOM');
/*
NOM	PRENOM
NOM1	PRENOM
NOM2	PRENOM
NOM3	PRENOM
NOM4	PRENOM
NOM5	PRENOM
*/
SELECT Nom, Prenom, email FROM (SELECT * from eleve as e2 where Nom='capolungo') as tbl;
/*CAPOLUNGO	Christophe	frm.cca@outlook.com*/
SELECT e2.*,(SELECT count(*) FROM eleve as e1 where e1.CodePostal=e2.CodePostal) as Cp_Count 
FROM eleve as e2; -- voir la derniere colonne
/*
1	CAPOLUNGO	Christophe	1972-01-19						0	frm.cca@outlook.com																	2017-10-23 16:31:37	2017-10-23 16:31:37	0
3	NOM	PRENOM		1972-01-19	BTS SIO 1	A	BAC	1	monemail@email.fr	0102030405	add1				75015	PARIS	2017-10-23 16:31:37	2017-10-23 16:31:37	5
4	NOM1	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail1@email.fr	0102030405	add1		75015	PARIS	2017-10-23 16:31:37	2017-10-23 16:31:37	5
5	NOM2	PRENOM	1972-01-19	BTS SIO 1	A	BAC1	1	monemail2@email.fr	0102030405	add1		75015	PARIS	2017-10-23 16:31:37	2017-10-23 16:31:37	5
6	NOM3	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail3@email.fr	0102030405	add1		75015	PARIS	2017-10-23 16:31:38	2017-10-23 16:31:38	5
7	NOM4	PRENOM	1972-01-19	BTS SIO 1	A	BAC2	1	monemail4@email.fr	0102030405	add1		75015	PARIS	2017-10-23 16:31:38	2017-10-23 16:31:38	5
8	NOM5	PRENOM	1972-01-19	BTS SIO 1	A	BAC3	1	monemail5@email.fr	0102030405	add1		90000	PARIS	2017-10-23 16:31:38	2017-10-23 16:31:38	1
*/
SELECT Id, Nom, Prenom FROM eleve as e1 WHERE 
EXISTS (SELECT * from eleve as e2 where e1.id=e2.id and prenom='prenom');
/*
3	NOM	PRENOM
4	NOM1	PRENOM
5	NOM2	PRENOM
6	NOM3	PRENOM
7	NOM4	PRENOM
8	NOM5	PRENOM
*/
SELECT Id, Nom, Prenom, Codepostal FROM eleve WHERE id >= ANY (SELECT id from eleve where Codepostal=75015);
/*
3	NOM	PRENOM	75015        ici le select imbriqué rammenne 3,4,5,6,7 donc id >= rammene cela
4	NOM1	PRENOM	75015
5	NOM2	PRENOM	75015
6	NOM3	PRENOM	75015
7	NOM4	PRENOM	75015
8	NOM5	PRENOM	90000
*/
SELECT Id, Nom, Prenom, Codepostal FROM eleve WHERE id >= ALL (SELECT id from eleve where Codepostal=75015);
/*
7	NOM4	PRENOM	75015   ici le select imbriqué rammenne 3,4,5,6,7 donc id >= rammene cela
8	NOM5	PRENOM	90000
*/
		
